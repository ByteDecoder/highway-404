<style>body{margin:0;text-align:center;background:#000;touch-action:none}</style><canvas id=c></canvas><script>(()=>{const e=/iPhone|iPad|Android/i.test(navigator.userAgent);new(top.AudioContext||webkitAudioContext);let t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAAAFAQMAAAAUpRAlAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAJxJREFUCNcBkQBu/wD/v8//8fhjCMXed5/4xjGP3Ed6X3/c4ACAyAKgAIxhKEIRIGUN5jGMYEjGKlCiyIZQgGMQEIDQBfAA/6Eecv8geQrWMo+cSMakISJBG/7wnPAAjiAIoACMYRhCMSRlCM48lEJIqqoiIkIEQYkiEBAAWRHwAI+f78Hx/+P4xdB8fEcR0Sfc7/hecR3iAICaIKCD0ULSdqTUvwAAAABJRU5ErkJggg==";function h(e,h,i,o,a=0,n=1){const c=5*n,w=e.length*c,s=2===a?w:1===a?w/2:0;[...e].forEach((e,a)=>{h.drawImage(t,5*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/#".indexOf(e),0,5,5,i+a*(c+1)-s,o,c,c)})}const i=[38,38,40,40,37,39,37,39,66,65];let o,a,n,w=0,s=0;const A=c.getContext("2d"),r=c.cloneNode(),g=r.getContext("2d");r.width=160,r.height=640;const m=c.cloneNode(),y=m.getContext("2d");m.width=120,m.height=160;const d=m.width-20;let l=0,x=0;const p={hero:{sprites:[{x:0,y:0,w:10,h:20}],speed:{x:100,y:50}},highway:{0:[{x:0,y:20,w:20,h:20}],6:[{x:0,y:40,w:20,h:20}],1:[{x:20,y:20,w:20,h:20}],2:[{x:40,y:20,w:20,h:20}],3:[{x:60,y:20,w:20,h:20}],4:[{x:80,y:20,w:20,h:20}],7:[{x:80,y:40,w:20,h:20}],5:[{x:60,y:40,w:20,h:20}],speed:{y:200}},404:{sprites:[{x:40,y:0,w:20,h:20},{x:60,y:0,w:20,h:20},{x:80,y:0,w:20,h:20},{x:100,y:0,w:20,h:20},{x:100,y:20,w:20,h:20},{x:100,y:40,w:20,h:20}]}};let u,f,v,k,E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAA8CAYAAACtrX6oAAAAAXNSR0IArs4c6QAAA+9JREFUeJztmz1v01AUhl9bVn4BA0uyRUEJlTJ1YOlcKSiCgIpEUIKYaJm6tFMrmNqFCeiE2ogiUZUKFSIxd2HoVKkfImJzlg78AoaYwbmu49iO7fh+JDnPkqSKb0789pz7nntvNADYyNes13/+AZ9+AM/u24+A/XztKbTtJxoAHD6ctx49OEWzXQUA7FWO4bBYgHaro2VLNQuEMuiOuEFsf4a19sVi4gbyswPrb4HEVQyDx6DdyyMtjXGoGoyPLjsAgi9cMpgH41aFWa0GBgBs5jPYzQDYqgGl/iMAlACz8th589dv81jtZJ3XuYua89w8uRASMBEPAwB2M4B56e+ii2+WcHV6AABY7WRhrh/5uujiiYWrhTuCwx+PpFVhkqqBDgDPQ0w0ExcA3ha6we+bMHFnBR2wMziI4vyS85yVZ5a5LJMBoHjym0d8xJgkNll7lWM021U029XBBQ8CwOjyL6rMU4mecpwMzpUy/i7ac0FuqwYvuYsazEVy0SLwqwxh1WDkHJxrHzrP3S3S0PsW7kaLkBAKrWRNOQbQ74EB/90kAKjYD+b60cDFw/1wgWuwRHwmZqmSsInrvklgTqiy2qVt5KMFMjcX3CK5We1kuWwX0mZDMgwAYBv+m/lBO+39+/m57aK9Ygf9PU1mVaBxoSM2U47RrfdiX9Q4G7xm7/3NOnRzJb0VrRev1gEAH99tKTmee0zvuK1ysg40u59u50p9sESs5R1YyztcPyORi2b/nd5MJm5g98Yvkx1Rv9/uv74GAGgfXqYeR+IMJnGjIfs+xc5g2QFPEkHzcO7eCgDA/HXtvE7ihaIQO4OTmgfihm69NyAoL3EBWsmSCo8518uAwGzyF/HB04xKVc4AxLq6WaBx1lNG5NhRkMmKRuOsp8S9MoDors7b26nwBVRHdjYbwLCLC3J17kBJ3NGoUKYHTJZ3zg0yXSSuXNxbp6M2i3zbJDJd6SOrQ6E+mDM8kiXOFq+vwGGmi8rzZOErcJjpapV1EjkCzGCJXHf2I7REB5UREjkct3uO2qHwItYcTKJGw3ufWmVdmkGNJTAtcMRDuT44DVoHx6kcme2PldZQzniNpaqQQ4YqiAvQmayphwTmhCqbDYkEbpV1ZUqQ6sgWOfEcLDvwSUCFJEi0H0ziJocdbE/7gHsQdOhOMN16D9l9XdiCB6nFkaBqJ3I1iwTmjOyKN2Sy2NwgupRMG7KFZQxFwQ5lh4mrSvCqotL9CYwk6NBd2I+qCBuVOo1YKrk3G1T5AkQ41CYJwN37iup/GfTrQgHINKyUwYKQ1Y0k3mwgwlHlHtGRHQ6oIi5AR3a44HcmSxZ08J0jKmTyfyXgs3gsbGcTAAAAAElFTkSuQmCC",Y=!0;function M(){w=0,o=404,l=5,x=r.height-m.height,scrolledDistance=0,a=K("hero",r.width/2,r.height-40),n=[a],b({x:20,y:r.height-20,h:20}),b({x:40,y:r.height-20,h:20}),b({x:60,y:r.height-20,h:20}),b({x:80,y:r.height-20,h:20}),b({x:100,y:r.height-20,h:20}),b({x:120,y:r.height-20,h:20}),D.forEach((e,t)=>{let h=r.height;for(;h>0;)e.forEach(e=>{const i=p.highway[e][0];h-=i.h,g.drawImage(E,i.x,i.y,i.w,i.h,t*i.w,h,i.w,i.h)})}),s=1}function K(e,t=0,h=0,i=!1){const o=p[e].sprites[0];return{frame:0,frameTime:0,h:o.h,loopAnimation:i,moveX:0,moveY:0,speed:p[e].speed,sprites:p[e].sprites,type:e,w:o.w,x:t,y:h}}function b(e){const t=K(404,e.x,e.y-e.h);t.spawn=b,t.spawnTime=0,n.unshift(t)}function B(e){e.spawn&&(e.spawnTime+=f,e.spawnTime>.084&&(e.spawn(e),e.spawn=null))}function R(e){e.frameTime+=f,e.frameTime>.075&&(e.frameTime-=.075,(e.sprites.length-1>e.frame||e.loopAnimation)&&(e.frame+=1),e.loopAnimation&&(e.frame%=e.sprites.length)),e.speed&&(e.x+=e.speed.x*f*e.moveX,e.y+=e.speed.y*f*e.moveY)}function C(e){const t=e.sprites[e.frame];y.drawImage(E,t.x,t.y,t.w,t.h,Math.round(e.x-l),Math.round(e.y-x),t.w,t.h)}const D=[[0,6,6],[1,5,5,5],[2,5,5,5],[2,5,5,5],[2,5,5,5],[2,5,5,5],[3,5,5,5],[7,4,7]];function Q(){Y&&(k=requestAnimationFrame(Q),(()=>{switch(y.fillStyle="#000",y.fillRect(0,0,m.width,m.height),s){case 0:h(e?"tap to start":"press any key",y,m.width/2,m.height/2,1),10===w&&h("konami mode on",y,m.width-5,5,2),h("jerome lecomte",y,m.width/2,m.height-18,1),h("js13kgames 2020",y,m.width/2,m.height-10,1);break;case 1:y.drawImage(r,l,x,m.width,m.height,0,0,m.width,m.height),n.forEach(C),(()=>{const e=Math.floor(Math.ceil(o)/60),t=Math.ceil(o)-60*e;h(`${e}:${t>9?"":"0"}${t}`,y,m.width-5,5,2)})()}h("highway 404",y,5,5),A.drawImage(m,0,0,m.width,m.height,0,0,c.width,c.height)})(),u=Date.now(),f=(u-v)/1e3,(()=>{switch(s){case 1:o-=f,0>o&&(s=2),n.forEach(R),n.forEach(B),0>x&&(x+=r.height-m.height,n.forEach(e=>{e.y+=r.height-m.height})),(()=>{const e=p.highway.speed.y*f;x-=e,a.y-=e})(),20>(e=a).x?e.x=20:e.x>r.width-20-e.w&&(e.x=r.width-20-e.w),x+20>e.y?e.y=x+20:e.y>x+m.height-e.h&&(e.y=x+m.height-e.h),l>0&&l+20>a.x?l=Math.max(0,a.x-20):r.width-m.width>l&&a.x+a.w>l+d&&(l=Math.min(r.width-m.width,a.x+a.w-d)),n=n.filter(e=>x+m.height>e.y)}var e})(),v=u)}function S(e){Y=e,Y?(v=Date.now(),Q()):cancelAnimationFrame(k)}function I(e){return new Promise(t=>{var h=new Image;h.onload=()=>{t(h)},h.src=e})}onload=async()=>{document.title="Highway 404",onresize(),await(async e=>{t=await e(t)})(I),E=await I(E),S(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/m.width,innerHeight/m.height);c.width=m.width*e,c.height=m.height*e,A.imageSmoothingEnabled=g.imageSmoothingEnabled=y.imageSmoothingEnabled=!1},document.onvisibilitychange=e=>{S(!e.target.hidden)},onkeydown=e=>{if(e.preventDefault(),!e.repeat)switch(s){case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":a.moveX=-1;break;case"ArrowUp":case"KeyW":case"KeyZ":a.moveY=-1;break;case"ArrowRight":case"KeyD":a.moveX=1;break;case"ArrowDown":case"KeyS":a.moveY=1;break;case"KeyP":S(!Y)}}},onkeyup=e=>{switch(s){case 0:e.which!==i[w]||10===w?M():w++;break;case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":case"ArrowRight":case"KeyD":a.moveX=0;break;case"ArrowUp":case"KeyW":case"KeyZ":case"ArrowDown":case"KeyS":a.moveY=0}break;case 2:switch(e.code){case"KeyT":open("https://twitter.com/intent/tweet?text=viral%20marketing%20message%20https%3A%2F%2Fgoo.gl%2Fsome tiny Google url here","_blank");break;default:s=0}}};let J=0,X=0,H=0,G=0;function U(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),s){case 1:[H,G]=[J,X]=U(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),s){case 1:J&&X&&(([e,t])=>{e>H?(H=e,H-J>30&&(a.moveX=1)):J>e?(J=e,H-J>30&&(a.moveX=-1)):H>e&&a.moveX>0?(J=e,a.moveX=0):e>J&&0>a.moveX&&(H=e,a.moveX=0),t>G?(G=t,G-X>30&&(a.moveY=1)):X>t?(X=t,G-X>30&&(a.moveY=-1)):G>t&&a.moveY>0?(X=t,a.moveY=0):t>X&&0>a.moveY&&(G=t,a.moveY=0)})(U(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),s){case 0:M();break;case 1:a.moveX=a.moveY=0,J=X=H=G=0;break;case 2:s=0}}})();</script>